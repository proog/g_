<div class="modal-header">
    <button type="button" class="close"></button>
    <h4 class="modal-title">
        <span ng-if="isNew">Add game</span>
        <span ng-if="!isNew">Edit game</span>
    </h4>
</div>
<div class="modal-body">
    <form ng-submit="formSubmit()">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4">
                    <h4>Details</h4>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Title" ng-model="form.title" ng-change="titleChanged()">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Sort as" ng-model="form.sort_as">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Developer" ng-model="form.developer">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Publisher" ng-model="form.publisher">
                    </div>
                    <div class="form-group">
                        <input type="number" class="form-control" placeholder="Year" ng-model="form.year">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Playtime" ng-model="form.playtime">
                    </div>
                    <div class="form-group">
                        <input type="number" class="form-control" placeholder="Rating" ng-model="form.rating">
                    </div>
                    <div class="form-group">
                        <textarea class="form-control" placeholder="Comment" ng-model="form.comment"></textarea>
                    </div>
                    <div class="form-group">
                        <div class="radio">
                            <label>
                                <input type="radio" ng-model="form.finished" value="0">
                                Not completed
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" ng-model="form.finished" value="1">
                                Completed
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" ng-model="form.finished" value="2">
                                N/A
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="file" id="image" file-upload input-element="image">
                        <a class="hand" ng-click="clearImageInput()">Cancel image upload</a>
                    </div>
                    <div class="form-group">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" ng-model="form.currently_playing">
                                Currently playing
                            </label>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" ng-click="inQueueClicked()" ng-checked="form.queue_position != null">
                                In queue
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <h4>Genres</h4>
                    <div class="checkbox" ng-repeat="genre in genres | orderBy:'name'">
                        <label>
                            <input type="checkbox" ng-attr-value="{{genre.id}}" ng-checked="form.genre_ids.indexOf(genre.id) > -1" ng-click="genreClick(genre.id)">
                            {{genre.name}}
                        </label>
                    </div>
                </div>
                <div class="col-md-3">
                    <h4>Platforms</h4>
                    <div class="checkbox" ng-repeat="platform in platforms | orderBy:'name'">
                        <label>
                            <input type="checkbox" ng-attr-value="{{platform.id}}" ng-checked="form.platform_ids.indexOf(platform.id) > -1" ng-click="platformClick(platform.id)">
                            {{platform.name}}
                        </label>
                    </div>
                </div>
                <div class="col-md-3">
                    <h4>Tags</h4>
                    <div class="checkbox" ng-repeat="tag in tags | orderBy:'name'">
                        <label>
                            <input type="checkbox" ng-attr-value="{{tag.id}}" ng-checked="form.tag_ids.indexOf(tag.id) > -1" ng-click="tagClick(tag.id)">
                            {{tag.name}}
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <!-- to make ng-submit work -->
        <input type="submit" style="display: none;">
    </form>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-primary" ng-if="isNew" ng-click="addClick()">
        <span class="glyphicon glyphicon-ok"></span>
    </button>
    <button type="button" class="btn btn-primary" ng-if="!isNew" ng-click="saveClick()">
        <span class="glyphicon glyphicon-ok"></span>
    </button>
    <button type="button" class="btn btn-danger" ng-if="!isNew" ng-click="deleteClick()">
        <span class="glyphicon glyphicon-remove"></span>
    </button>
    <button type="button" class="btn btn-default" ng-click="cancelClick()">Cancel</button>
</div>
